# 92. Reverse Linked List II

## Step 1: λ¬Έμ  μ΄ν•΄ λ° μ¬μ •μ π¤”
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- μ—°κ²° λ¦¬μ¤νΈμ—μ„ νΉμ • κµ¬κ°„(leftλ²μ§Έλ¶€ν„° rightλ²μ§Έ)λ§ μ—­μμΌλ΅ λ’¤μ§‘λ” λ¬Έμ μ…λ‹λ‹¤
- μμ : [1,2,3,4,5]μ—μ„ 2~4λ²μ§Έλ¥Ό λ’¤μ§‘μΌλ©΄ [1,4,3,2,5]
- λ‚λ¨Έμ§€ λ¶€λ¶„μ€ κ·Έλ€λ΅ μ μ§€ν•΄μ•Ό ν•©λ‹λ‹¤

**μ†ν’€μ΄ κ³Όμ •:**
```
μ›λ³Έ: 1 β†’ 2 β†’ 3 β†’ 4 β†’ 5, left=2, right=4

1. left μ΄μ „(1)μ€ κ·Έλ€λ΅
2. 2β†’3β†’4λ¥Ό μ—­μμΌλ΅: 4β†’3β†’2
3. right μ΄ν›„(5)λ” κ·Έλ€λ΅
4. μ—°κ²°: 1 β†’ 4 β†’ 3 β†’ 2 β†’ 5
```

**μ—£μ§€ μΌ€μ΄μ¤:**
- left = 1μΈ κ²½μ° (headλ¶€ν„° μ—­μ)
- left = rightμΈ κ²½μ° (λ’¤μ§‘μ„ ν•„μ” μ—†μ)
- λ¦¬μ¤νΈκ°€ 1κ° λ…Έλ“λ§ μλ” κ²½μ°

<details>
<summary>π’΅ ννΈ</summary>

**μ…λ ¥/μ¶λ ¥:**
- μ…λ ¥: head (μ—°κ²° λ¦¬μ¤νΈ), left (μ‹μ‘ μ„μΉ, 1-indexed), right (λ μ„μΉ)
- μ¶λ ¥: λ¶€λ¶„ μ—­μλ μ—°κ²° λ¦¬μ¤νΈμ head

**μ μ•½μ‚¬ν•­:**
- 1 β‰¤ n β‰¤ 500 (λ…Έλ“ κ°μ)
- 1 β‰¤ left β‰¤ right β‰¤ n
- Follow-up: One passλ΅ ν•΄κ²° κ°€λ¥

</details>

β… **μ²΄ν¬ν¬μΈνΈ:** left~right κµ¬κ°„λ§ λ’¤μ§‘κ³  λ‚λ¨Έμ§€λ” μ μ§€ν•λ‹¤λ” κ²ƒμ„ μ΄ν•΄ν–λ‚μ”?

---

## Step 2: ν¨ν„΄ μΈμ‹ λ° λ¶„λ¥ π”
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- **λ¬Έμ  μ ν•:** μ—°κ²° λ¦¬μ¤νΈ (Linked List) + ν¬μΈν„° μ΅°μ‘
- **μ μ‚¬ λ¬Έμ :** 206. Reverse Linked List (μ „μ²΄ λ¦¬μ¤νΈ μ—­μ)
- **ν•„μ” μλ£κµ¬μ΅°:** ν¬μΈν„° 3~4κ° (μ΄μ „, ν„μ¬, λ‹¤μ λ…Έλ“ μ¶”μ )

**ν•µμ‹¬ ν¨ν„΄:**
- μ—°κ²° λ¦¬μ¤νΈ λ¶€λ¶„ μ—­μμ€ μ „μ²΄ μ—­μμ μ‘μ©μ…λ‹λ‹¤
- νΉμ • κµ¬κ°„λ§ μ²λ¦¬ν•λ ¤λ©΄ "κ²½κ³„ λ…Έλ“"λ“¤μ„ κΈ°μ–µν•΄μ•Ό ν•©λ‹λ‹¤

<details>
<summary>π’΅ ννΈ</summary>

**μ•κ³ λ¦¬μ¦ μ ν•:**
- Linked List Manipulation
- Two/Multiple Pointers κΈ°λ²•

**ν•µμ‹¬ ν‚¤μ›λ“:**
- "reverse between positions" β†’ λ¶€λ¶„ μ—­μ
- "one pass" β†’ O(n) μ‹κ°„μ— ν• λ² μνλ΅ ν•΄κ²°

**κΈ°μ–µν•  λ…Έλ“λ“¤:**
1. left μ΄μ „ λ…Έλ“ (μ—°κ²° λ³µμ›μ©)
2. left λ…Έλ“ (μ—­μ ν›„ κΌ¬λ¦¬κ°€ λ¨)
3. right λ…Έλ“ (μ—­μ ν›„ λ¨Έλ¦¬κ°€ λ¨)
4. right λ‹¤μ λ…Έλ“ (μ—°κ²° λ³µμ›μ©)

</details>

β… **μ²΄ν¬ν¬μΈνΈ:** μ–΄λ–¤ λ…Έλ“λ“¤μ„ μ¶”μ ν•΄μ•Ό ν•λ”μ§€ νμ•…ν–λ‚μ”?

---

## Step 3: λΈλ£¨νΈν¬μ¤ μ ‘κ·Ό π’
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- κ°€μ¥ μ§κ΄€μ μΈ λ°©λ²•: λ¦¬μ¤νΈλ¥Ό λ°°μ—΄λ΅ λ³€ν™ β†’ λ¶€λ¶„ μ—­μ β†’ λ‹¤μ‹ λ¦¬μ¤νΈλ΅
- λλ”: left~right κµ¬κ°„μ„ μλΌλ‚΄μ„ λ³„λ„λ΅ μ—­μ β†’ λ‹¤μ‹ λ¶™μ΄κΈ°

<details>
<summary>π’΅ ννΈ</summary>

**λΈλ£¨νΈν¬μ¤ μ ‘κ·Όλ²•:**
1. μ—°κ²° λ¦¬μ¤νΈλ¥Ό λ°°μ—΄λ΅ λ³€ν™
2. λ°°μ—΄μ left-1 ~ right-1 μΈλ±μ¤ κµ¬κ°„μ„ reverse
3. λ°°μ—΄μ„ λ‹¤μ‹ μ—°κ²° λ¦¬μ¤νΈλ΅ λ³€ν™

**μ¥μ :** κµ¬ν„μ΄ μ‰½κ³  μ΄ν•΄ν•κΈ° μ‰¬μ›€
**λ‹¨μ :**
- O(n) μ¶”κ°€ κ³µκ°„ ν•„μ”
- λ³€ν™ κ³Όμ •μ΄ λΉ„ν¨μ¨μ 

</details>

```typescript
// λΈλ£¨νΈν¬μ¤ μ†”λ£¨μ… (λ°°μ—΄ λ³€ν™ λ°©μ‹)
/*
  μ‹κ°„λ³µμ΅λ„: O(n) - λ¦¬μ¤νΈβ†’λ°°μ—΄ O(n) + μ—­μ O(right-left) + λ°°μ—΄β†’λ¦¬μ¤νΈ O(n)
  κ³µκ°„λ³µμ΅λ„: O(n) - λ°°μ—΄ μ €μ¥
*/
function reverseBetweenBruteForce(
  head: ListNode | null,
  left: number,
  right: number
): ListNode | null {
  if (!head) return null;

  // 1. λ¦¬μ¤νΈλ¥Ό λ°°μ—΄λ΅ λ³€ν™ - TC: O(n), SC: O(n)
  const arr: number[] = [];
  let curr = head;
  while (curr) {
    arr.push(curr.val);
    curr = curr.next;
  }

  // 2. left~right κµ¬κ°„ μ—­μ - TC: O(right-left)
  let l = left - 1, r = right - 1;
  while (l < r) {
    [arr[l], arr[r]] = [arr[r], arr[l]];
    l++;
    r--;
  }

  // 3. λ°°μ—΄μ„ λ‹¤μ‹ λ¦¬μ¤νΈλ΅ λ³€ν™ - TC: O(n), SC: O(n)
  const dummy = new ListNode(0);
  curr = dummy;
  for (const val of arr) {
    curr.next = new ListNode(val);
    curr = curr.next;
  }

  return dummy.next;
}
```

β… **μ²΄ν¬ν¬μΈνΈ:** μ‘λ™ν•μ§€λ§ λΉ„ν¨μ¨μ μΈ O(n) κ³µκ°„ ν•΄λ²•μ„ μ΄ν•΄ν–λ‚μ”?

---

## Step 4: λ³‘λ© μ§€μ  λ¶„μ„ π”
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- **λ³‘λ© 1:** λ°°μ—΄ λ³€ν™μ— O(n) μ¶”κ°€ κ³µκ°„ μ‚¬μ©
- **λ³‘λ© 2:** μ‹¤μ λ΅λ” left~right κµ¬κ°„λ§ μ²λ¦¬ν•λ©΄ λλ”λ° μ „μ²΄λ¥Ό λ³€ν™
- **λ°λ³µ μ‘μ—…:** λ¦¬μ¤νΈβ†’λ°°μ—΄β†’λ¦¬μ¤νΈ λ³€ν™μ΄ λ¶ν•„μ”

**Big O λ¶„μ„:**
- μ‹κ°„: O(n) - μ„Έ λ²μ μν (λ³€ν™ 2λ² + μ—­μ 1λ²)
- κ³µκ°„: O(n) - λ°°μ—΄ μ €μ¥

<details>
<summary>π’΅ ννΈ</summary>

**κ°μ„  ν¬μΈνΈ:**
- λ°°μ—΄ λ³€ν™ μ—†μ΄ ν¬μΈν„°λ§μΌλ΅ in-place μ—­μ κ°€λ¥
- left~right κµ¬κ°„λ§ μνν•λ©΄ λ¨
- μ¶”κ°€ κ³µκ°„μ„ O(1)λ΅ μ¤„μΌ μ μμ

**ν•µμ‹¬ μ§λ¬Έ:**
- μ—°κ²° λ¦¬μ¤νΈ μ „μ²΄ μ—­μμ€ μ–΄λ–»κ² ν•λ‚μ”? β†’ prev, curr, next ν¬μΈν„° 3κ°λ΅ κ°€λ¥
- λ¶€λ¶„ μ—­μλ„ κ°™μ€ μ›λ¦¬λ¥Ό μ μ©ν•  μ μμ§€ μ•μ„κΉμ”?

</details>

β… **μ²΄ν¬ν¬μΈνΈ:** O(n) κ³µκ°„μ„ O(1)λ΅ μ¤„μΌ μ μλ‹¤λ” κ²ƒμ„ μ•μ•λ‚μ”?

---

## Step 5: μµμ ν™” μ „λµ μλ¦½ π€
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- **ν•µμ‹¬ μ•„μ΄λ””μ–΄:** Linked List 206λ² μ „μ²΄ μ—­μ μ•κ³ λ¦¬μ¦μ„ λ¶€λ¶„μ μΌλ΅ μ μ©
- **μµμ ν™” κΈ°λ²•:** In-place reversal (ν¬μΈν„° μ΅°μ‘λ§μΌλ΅)
- **νΈλ μ΄λ“μ¤ν”„:** μ‹κ°„μ€ λ™μΌ O(n), κ³µκ°„μ€ O(n) β†’ O(1)λ΅ κ°μ„ 

**μ „λµ:**
1. **Dummy λ…Έλ“ μ‚¬μ©:** left=1μΈ μ—£μ§€ μΌ€μ΄μ¤λ¥Ό μΌλ°ν™”
2. **4κ° ν¬μΈν„° κ΄€λ¦¬:**
   - `beforeLeft`: left μ΄μ „ λ…Έλ“
   - `leftNode`: left λ…Έλ“ (μ—­μ ν›„ κΌ¬λ¦¬)
   - `curr`: ν„μ¬ μ²λ¦¬ μ¤‘μΈ λ…Έλ“
   - `rightNext`: right λ‹¤μ λ…Έλ“ (μ—­μ ν›„ μ—°κ²°)

3. **One Pass μ•κ³ λ¦¬μ¦:**
   ```
   Step 1: left-1 μ„μΉκΉμ§€ μ΄λ™ (beforeLeft μ°ΎκΈ°)
   Step 2: left~right κµ¬κ°„ μ—­μ (ν‘μ¤€ reversal κΈ°λ²•)
   Step 3: μ•λ’¤ μ—°κ²° λ³µμ›
   ```

<details>
<summary>π’΅ ννΈ</summary>

**μµμ ν™” κΈ°λ²•λ“¤:**
- **Dummy Head Pattern:** head λ³€κ²½ κ°€λ¥μ„±μ΄ μμ„ λ• μ μ©
- **Standard Reversal:** prev, curr, next ν¬μΈν„°λ΅ ν™”μ‚΄ν‘ λ°©ν–¥ λ°”κΎΈκΈ°
  ```
  μ›λ³Έ: A β†’ B β†’ C
  μ—­μ: A β† B β† C

  while (curr) {
    next = curr.next;
    curr.next = prev;
    prev = curr;
    curr = next;
  }
  ```

**κµ¬κ°„ μ—­μ ν•µμ‹¬:**
```
1 β†’ 2 β†’ 3 β†’ 4 β†’ 5, left=2, right=4

beforeLeft = 1
leftNode = 2

μ—­μ κ³Όμ •:
1 β†’ 2 β† 3 β† 4   5
    β†“           β†‘
  leftNode   rightNext

μµμΆ… μ—°κ²°:
1 β†’ 4 β†’ 3 β†’ 2 β†’ 5
```

</details>

β… **μ²΄ν¬ν¬μΈνΈ:** In-place ν¬μΈν„° μ΅°μ‘μΌλ΅ O(1) κ³µκ°„μ— ν•΄κ²°ν•  μ „λµμ„ μ„Έμ› λ‚μ”?

---

## Step 6: κµ¬ν„ λ° λ””λ²„κΉ… π› οΈ
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- Dummy λ…Έλ“λ¶€ν„° μ‹μ‘
- left-1κΉμ§€ μ΄λ™ν•λ” λ°λ³µλ¬Έ
- left~right μ—­μ λ°λ³µλ¬Έ
- μ—°κ²° λ³µμ› λ΅μ§

<details>
<summary>π’΅ ννΈ</summary>

**κµ¬ν„ μμ„:**
1. Dummy λ…Έλ“ μƒμ„± (left=1 λ€μ‘)
2. beforeLeftκΉμ§€ μ΄λ™ (left-1λ² μ΄λ™)
3. μ—­μν•  κµ¬κ°„μ μ‹μ‘(leftNode) κΈ°μ–µ
4. left~right κµ¬κ°„ ν‘μ¤€ reversal
5. beforeLeft.next = μ—­μλ head
6. leftNode.next = rightNext

**μ£Όμμ‚¬ν•­:**
- left=1μΌ λ• beforeLeftλ” dummy
- right μ΄ν›„ λ…Έλ“κ°€ nullμΌ μ μμ
- ν¬μΈν„° null μ²΄ν¬ ν•„μ

**λ””λ²„κΉ… ν:**
- μμ : [1,2,3,4,5], left=2, right=4λ΅ μ†μΌλ΅ κ·Έλ¦¬λ©° μ¶”μ 
- κ° λ‹¨κ³„ ν›„ μ—°κ²° μƒνƒ ν™•μΈ

</details>

```typescript
/*
  μ „μ²΄ μ‹κ°„λ³µμ΅λ„(Time Complexity): O(n)
  μ „μ²΄ κ³µκ°„λ³µμ΅λ„(Space Complexity): O(1)
  (n: μ—°κ²° λ¦¬μ¤νΈμ λ…Έλ“ κ°μ)

  λ™μ‘ μ›λ¦¬:
  1. Dummy λ…Έλ“λ΅ left=1 μ—£μ§€ μΌ€μ΄μ¤ μ²λ¦¬
  2. left-1 μ„μΉκΉμ§€ μ΄λ™ν•μ—¬ beforeLeft μ°ΎκΈ° - TC: O(left)
  3. left~right κµ¬κ°„μ„ ν‘μ¤€ reversalλ΅ μ—­μ - TC: O(right-left)
  4. μ—­μλ κµ¬κ°„μ„ μ•λ’¤λ΅ μ—°κ²° λ³µμ› - TC: O(1)
*/
function reverseBetween(
  head: ListNode | null,
  left: number,
  right: number
): ListNode | null {
  if (!head || left === right) return head;

  // Dummy λ…Έλ“λ΅ left=1 μ—£μ§€ μΌ€μ΄μ¤ μ²λ¦¬
  const dummy = new ListNode(0);
  dummy.next = head;

  // Step 1: left-1 μ„μΉκΉμ§€ μ΄λ™ - TC: O(left)
  let beforeLeft = dummy;
  for (let i = 0; i < left - 1; i++) {
    beforeLeft = beforeLeft.next!;
  }

  // Step 2: left~right κµ¬κ°„ μ—­μ - TC: O(right-left)
  let prev: ListNode | null = null;
  let curr: ListNode | null = beforeLeft.next; // left λ…Έλ“
  const leftNode = curr; // μ—­μ ν›„ κΌ¬λ¦¬κ°€ λ  λ…Έλ“

  // ν‘μ¤€ reversal κΈ°λ²•
  for (let i = 0; i <= right - left; i++) {
    const next = curr!.next;
    curr!.next = prev;
    prev = curr;
    curr = next;
  }
  // λ°λ³µ ν›„: prev = right λ…Έλ“ (μ—­μλ head), curr = right+1 λ…Έλ“

  // Step 3: μ—°κ²° λ³µμ›
  beforeLeft.next = prev; // left μ΄μ „κ³Ό μ—­μλ head μ—°κ²°
  leftNode!.next = curr; // μ—­μλ κΌ¬λ¦¬μ™€ right μ΄ν›„ μ—°κ²°

  return dummy.next;
}
```

**ν…μ¤νΈ μΌ€μ΄μ¤ κ²€μ¦:**
```
Example 1: [1,2,3,4,5], left=2, right=4
- beforeLeft = 1
- leftNode = 2
- μ—­μ: 2β†’3β†’4 β†’ 4β†’3β†’2
- μµμΆ…: 1β†’4β†’3β†’2β†’5 β“

Example 2: [5], left=1, right=1
- left === right μ΅°κ±΄μΌλ΅ μ΅°κΈ° λ¦¬ν„΄ β“

Edge Case: [1,2], left=1, right=2
- dummy λ•λ¶„μ— μ •μƒ μ‘λ™
- κ²°κ³Ό: 2β†’1 β“
```

β… **μ²΄ν¬ν¬μΈνΈ:** λ¨λ“  ν…μ¤νΈλ¥Ό ν†µκ³Όν•κ³  μ—£μ§€ μΌ€μ΄μ¤λ„ μ²λ¦¬ν–λ‚μ”?

---

## Step 7: λ³µμ΅λ„ λ¶„μ„ λ° λ³€ν• λ¬Έμ  π―
π’­ **λ¨Όμ € μ‹λ„ν•΄λ³΄μ„Έμ”:**
- **μµμΆ… λ³µμ΅λ„ κ³„μ‚°:**
  - μ‹κ°„: O(left) + O(right-left) + O(1) = O(n)
  - κ³µκ°„: O(1) (ν¬μΈν„°λ§ μ‚¬μ©)

- **λ³€ν• λ¬Έμ  κ³ λ―Ό:**
  - μ—¬λ¬ κµ¬κ°„μ„ λ™μ‹μ— μ—­μ? β†’ κ° κµ¬κ°„λ§λ‹¤ μ΄ μ•κ³ λ¦¬μ¦ μ μ©
  - Kκ°μ”© λ¬¶μ–΄μ„ μ—­μ? β†’ 25. Reverse Nodes in k-Group
  - ν™€μ μ„μΉλ§ μ—­μ? β†’ μ΅°κ±΄λ¶€ reversal

<details>
<summary>π’΅ ννΈ</summary>

**λ³µμ΅λ„ λ¶„μ„:**
- **μ‹κ°„λ³µμ΅λ„:** O(n)
  - Worst case: left=1, right=nμΌ λ• μ „μ²΄ μν
  - Best case: left=rightμΌ λ• O(1) (μ΅°κΈ° λ¦¬ν„΄)

- **κ³µκ°„λ³µμ΅λ„:** O(1)
  - κ³ μ •λ ν¬μΈν„° λ³€μλ§ μ‚¬μ© (dummy, beforeLeft, prev, curr, leftNode)
  - μ¬κ·€ μ—†μ, μ¶”κ°€ μλ£κµ¬μ΅° μ—†μ

**κ΄€λ ¨ λ¬Έμ λ“¤:**
- LeetCode 206: Reverse Linked List (μ „μ²΄ μ—­μ) - λ” μ‰¬μ›€
- LeetCode 25: Reverse Nodes in k-Group - λ” μ–΄λ ¤μ›€
- LeetCode 24: Swap Nodes in Pairs - μ μ‚¬ ν¨ν„΄

**μ‹¤λ¬΄ ν™μ©:**
- Undo/Redo μ‹μ¤ν…μ—μ„ λ¶€λ¶„ λ…λ Ή μ·¨μ†
- λ°μ΄ν„° μ¤νΈλ¦Ό μ²λ¦¬μ—μ„ νΉμ • κµ¬κ°„ μ¬μ •λ ¬
- λ©”λ¨λ¦¬ ν¨μ¨μ μΈ μμ„ λ³€κ²½ μ‘μ—…

</details>

## μµμΆ… μ •λ¦¬
- **μ‹κ°„λ³µμ΅λ„:** O(n) - λ¦¬μ¤νΈλ¥Ό ν• λ²λ§ μν (leftκΉμ§€ μ΄λ™ + κµ¬κ°„ μ—­μ)
- **κ³µκ°„λ³µμ΅λ„:** O(1) - ν¬μΈν„° λ³€μλ§ μ‚¬μ©, μ¶”κ°€ μλ£κµ¬μ΅° μ—†μ
- **ν•µμ‹¬ μ•„μ΄λ””μ–΄:**
  1. Dummy λ…Έλ“ ν¨ν„΄μΌλ΅ head λ³€κ²½ μ—£μ§€ μΌ€μ΄μ¤ μΌλ°ν™”
  2. ν‘μ¤€ reversal κΈ°λ²•(prev, curr, next)μ„ νΉμ • κµ¬κ°„μ—λ§ μ μ©
  3. 4κ° ν¬μΈν„°λ΅ κ²½κ³„ κ΄€λ¦¬ (beforeLeft, leftNode, prev, curr)
  4. One-passλ΅ ν¨μ¨μ  ν•΄κ²°

- **μ μ‚¬ λ¬Έμ :**
  - 206. Reverse Linked List (κΈ°λ³Έ κ°λ…)
  - 25. Reverse Nodes in k-Group (μ‹¬ν™”)
  - 24. Swap Nodes in Pairs (ν¨ν„΄ μ μ‚¬)

- **μ‹¤μ „ μ‘μ©:**
  - λ©”λ¨λ¦¬ ν¨μ¨μ μΈ μμ„ μ¬μ •λ ¬
  - Linked List κΈ°λ° μλ£κµ¬μ΅° μ΅°μ‘
  - In-place μ•κ³ λ¦¬μ¦ μ„¤κ³„ ν¨ν„΄

**ν•™μµ ν¬μΈνΈ:**
- Dummy λ…Έλ“λ” head λ³€κ²½μ΄ ν•„μ”ν• λ¬Έμ μ—μ„ μ½”λ“λ¥Ό λ‹¨μν™”ν•©λ‹λ‹¤
- λ³µμ΅ν• ν¬μΈν„° μ΅°μ‘μ€ κ·Έλ¦Όμ„ κ·Έλ¦¬λ©° λ‹¨κ³„λ³„λ΅ μ¶”μ ν•μ„Έμ”
- κ²½κ³„ μ΅°κ±΄(left=1, right=n)μ„ ν•­μƒ ν…μ¤νΈν•μ„Έμ”

β… **μ²΄ν¬ν¬μΈνΈ:** Linked List λ¶€λ¶„ μ—­μ ν¨ν„΄μ„ μ™„μ „ν μ΄ν•΄ν•κ³  λ‹¤λ¥Έ λ¬Έμ μ— μ‘μ©ν•  μ μλ‚μ”?
